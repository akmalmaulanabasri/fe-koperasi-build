(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7561],{18377:function(e,t,n){"use strict";var a=n(61354);let s=(0,a.Z)();t.Z=s},29906:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/anggota/simpanan/tarik-simpanan/[slug]",function(){return n(51449)}])},37140:function(e,t){"use strict";t.Z={baseUrl:"https://be-koperasi.dytech.my.id/api"}},51449:function(e,t,n){"use strict";n.r(t);var a=n(85893),s=n(15861),i=n(90629),l=n(18360),r=n(18972),d=n(50135),o=n(11057),u=n(6154),c=n(11163),h=n(67294),x=n(37140),m=n(18377);let p=()=>{let e=(0,c.useRouter)(),t=e.query.slug,[p,f]=(0,h.useState)([]),g=localStorage.getItem("accessToken"),[j,Z]=(0,h.useState)(0),[b,y]=(0,h.useState)(0),[w,_]=(0,h.useState)(""),k=n(87642);(0,h.useEffect)(()=>{let e=async()=>{await u.Z.get(x.Z.baseUrl+"/simpanan/user/"+t,{headers:{Authorization:"Bearer "+g}}).then(e=>{f(e.data.simpanan),console.log(p)}).catch(e=>{console.log(e)})};e()},[t]),console.log(p);let v=async()=>{b&&w&&j||alert("data tidak lengkap");let t={user_id:p[0].user_id,tipe_simpanan:j,nominal:b,deskripsi:w,tipe_transaksi:"kredit"};await (0,u.Z)({method:"post",url:x.Z.baseUrl+"/simpanan/update",headers:{Authorization:"Bearer "+g},data:t}).then(t=>{e.push("/anggota/simpanan/"+p[0].user_id)}).catch(e=>{console.log(e)})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{sx:{fontSize:20,mt:5},children:"Tarik Simpanan"}),(0,a.jsxs)(i.Z,{sx:{p:5,mt:3},children:[(0,a.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",mb:3},children:[(0,a.jsx)(s.Z,{sx:{width:1/3,maxWidth:1/3,justifyContent:"space-between"},children:"Jenis Simpanan"}),(0,a.jsxs)(l.Z,{sx:{ml:5,width:3/4},value:j,onChange:e=>Z(e.target.value),children:[0==p.length?(0,a.jsx)(r.Z,{value:0,children:"Null"}):(0,a.jsx)(r.Z,{value:0,children:"Pilih tipe simpanan"}),p.map(e=>(0,a.jsxs)(r.Z,{value:e.simpanan.kode_akun,children:[e.simpanan.nama_simpanan," - ",k.convert(e.saldo_setelah)]},e.id))]})]}),(0,a.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",mb:3},children:[(0,a.jsx)(s.Z,{sx:{width:1/3,maxWidth:1/3,justifyContent:"space-between"},children:"Nominal"}),(0,a.jsx)(d.Z,{sx:{ml:5,width:3/4},type:"number",onChange:e=>y(e.target.value),defaultValue:b,id:"outlined-basic",label:"Nominal",variant:"outlined"})]}),(0,a.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",mb:3},children:[(0,a.jsx)(s.Z,{sx:{width:1/3,maxWidth:1/3,justifyContent:"space-between"},children:"Metode Pembayaran"}),(0,a.jsx)(d.Z,{sx:{ml:5,width:3/4},id:"outlined-basic",label:"Metode Pembayaran",variant:"outlined"})]}),(0,a.jsxs)(m.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",mb:3},children:[(0,a.jsx)(s.Z,{sx:{width:1/3,maxWidth:1/3,justifyContent:"space-between"},children:"Deskripsi"}),(0,a.jsx)(d.Z,{sx:{ml:5,width:3/4},id:"outlined-basic",onChange:e=>_(e.target.value),value:w,label:"Deskripsi",variant:"outlined"})]}),(0,a.jsx)(m.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",mb:3},children:(0,a.jsx)(o.Z,{variant:"contained",onClick:v,children:"Simpan"})})]})]})};t.default=p},87642:function(e){e.exports={convert:e=>{let t=String(e).split("").reverse();for(let e=0;e<t.length;e++)(e+1)%3==0&&e!=t.length-1&&(t[e]=`.${t[e]}`);return`Rp. ${t.reverse().join("")},00`}}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=29906)}),_N_E=e.O()}]);