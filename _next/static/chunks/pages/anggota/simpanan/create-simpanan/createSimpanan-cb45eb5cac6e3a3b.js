(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5092],{18377:function(e,t,n){"use strict";var a=n(61354);let i=(0,a.Z)();t.Z=i},39233:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/anggota/simpanan/create-simpanan/createSimpanan",function(){return n(13039)}])},37140:function(e,t){"use strict";t.Z={baseUrl:"https://be-koperasi.dytech.my.id/api"}},13039:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var a=n(85893),i=n(90629),s=n(15861),l=n(18360),r=n(18972),d=n(50135),u=n(11057),o=n(18377),c=n(67294),h=n(37140),x=n(6154),m=n(11163),p=n(86455),f=n.n(p);let g=e=>{let t=f().fire({...e});return{Alert:t}},j=e=>{let t=(0,m.useRouter)(),{data:n}=e,p=localStorage.getItem("accessToken"),[f,j]=(0,c.useState)([]),[Z,b]=(0,c.useState)([]),[k,w]=(0,c.useState)(0),[y,_]=(0,c.useState)(0),[v,C]=(0,c.useState)(""),[S,N]=(0,c.useState)(0),E=e=>{w(e.target.value)};(0,c.useEffect)(()=>{let e=async()=>{await x.Z.get(h.Z.baseUrl+"/tipe-simpanan/all",{headers:{Authorization:"Bearer "+p}}).then(e=>{j(e.data.tipe_simpanan)}).catch(e=>{console.log(e),j([])})},t=async()=>{await x.Z.get(h.Z.baseUrl+"/rekening/all",{headers:{Authorization:"Bearer "+p}}).then(e=>{b(e.data.rekening)}).catch(e=>{console.log(e),j([])})};e(),t(),console.log(f)},[n]);let I=async()=>{y&&v&&k||g({title:"Form tidak boleh kosong!",text:"Silahkan isi semua form",icon:"error",backdrop:!1});let e={user_id:n.id,tipe_simpanan:k,nominal:y,deskripsi:v,tipe_transaksi:"debit"};await (0,x.Z)({method:"post",url:h.Z.baseUrl+"/simpanan/update",headers:{Authorization:"Bearer "+p},data:e}).then(e=>{t.push("/anggota/simpanan/"+n.id)}).catch(e=>{console.log(e)})};return(0,a.jsxs)(i.Z,{sx:{p:5,mt:3},children:[(0,a.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",mb:3},children:[(0,a.jsx)(s.Z,{sx:{width:1/3,maxWidth:1/3,justifyContent:"space-between"},children:"Jenis Simpanan"}),(0,a.jsxs)(l.Z,{sx:{ml:5,width:3/4},value:k,onChange:e=>E(e),children:[0==f.length?(0,a.jsx)(r.Z,{value:0,children:"Null"}):(0,a.jsx)(r.Z,{value:0,children:"Pilih tipe simpanan"}),f.map(e=>(0,a.jsx)(r.Z,{value:e.kode_akun,children:e.nama_simpanan},e.id))]})]}),(0,a.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",mb:3},children:[(0,a.jsx)(s.Z,{sx:{width:1/3,maxWidth:1/3,justifyContent:"space-between"},children:"Nominal"}),(0,a.jsx)(d.Z,{sx:{ml:5,width:3/4},type:"number",onChange:e=>_(e.target.value),defaultValue:y,id:"outlined-basic",label:"Nominal",variant:"outlined"})]}),(0,a.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",mb:3},children:[(0,a.jsx)(s.Z,{sx:{width:1/3,maxWidth:1/3,justifyContent:"space-between"},children:"Metode Pembayaran"}),(0,a.jsxs)(l.Z,{sx:{ml:5,width:3/4},value:S,onChange:e=>N(e.target.value),children:[0==Z.length?(0,a.jsx)(r.Z,{value:0,children:"Null"}):(0,a.jsx)(r.Z,{value:0,children:"Pilih tipe simpanan"}),Z.map(e=>(0,a.jsx)(r.Z,{value:e.kode_akun,children:e.nama_rekening},e.id))]})]}),(0,a.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",mb:3},children:[(0,a.jsx)(s.Z,{sx:{width:1/3,maxWidth:1/3,justifyContent:"space-between"},children:"Deskripsi"}),(0,a.jsx)(d.Z,{sx:{ml:5,width:3/4},id:"outlined-basic",onChange:e=>C(e.target.value),value:v,label:"Deskripsi",variant:"outlined"})]}),(0,a.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",mb:3},children:(0,a.jsx)(u.Z,{variant:"contained",onClick:I,children:"Simpan"})})]})};var Z=j}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=39233)}),_N_E=e.O()}]);